# Shifr — macOS приложение для шифрования (Shifr-1.0)

Небольшое оффлайн macOS-приложение для экспериментов с классическими подстановочными шифрами (Цезарь, Виженер), реализованное на SwiftUI.

## Обзор

Shifr (пакет `Shifr-1.0.dmg`) предоставляет простой графический интерфейс с набором инструментов для шифрования, дешифрования и анализа коротких текстов. Подходит для обучения и быстрого кодирования/декодирования сообщений.

## Вкладки / Инструменты

Приложение содержит следующие вкладки:

- Шифр Цезаря — шифрование текста с настраиваемым числовым сдвигом (поддержка английского и русского алфавитов).
- Шифр Виженера — шифрование с пользовательским ключом (поддержка английского и русского).
- Дешифратор — режим автоматического или ручного расшифрования. В автоматическом режиме приложение подбирает кандидаты (для Цезаря показывает все сдвиги; для Виженера — статистические попытки). В ручном режиме можно ввести ключ.
- Подбор длины — анализ ключевой длины для шифра Виженера (ориентирован на русский текст). Можно просмотреть кандидаты ключей/plaintext и применить найденный ключ в Дешифраторе.
- Частотный анализ — отображает столбчатую диаграмму частот символов для введённого текста (полезно при ручном анализе).

## Возможности и ограничения

- Полная оффлайн-работа — без сетевых подключений и телеметрии.
- Поддержка английского и русского алфавитов (сохранение регистра там, где реализовано).
- Подбор длины ключа и статистические методы (chi-square / индекс совпадений) оптимизированы для русского языка; при попытке запустить подбор длины для не‑русского текста приложение покажет предупреждение.
- Автоматический брутфорс Виженера для английского ограничен малыми длинами ключа (во избежание экспоненциального роста перебора).
- Частотный анализ отображается с помощью фреймворка Charts.

## Требования

- macOS 15.6 Sequoia или новее (точную минимальную целевую версию см. в `Shifr.app/Contents/Info.plist`).
- Поддержка Apple Silicon и/или Intel — смотрите содержимое DMG для конкретных архитектур.

## Установка (из DMG)

1. Дважды щелкните `Shifr-1.0.dmg` в Finder, чтобы смонтировать образ.
2. Перетащите `Shifr.app` в папку `Applications`.
3. Извлеките смонтированный образ и при желании удалите файл `.dmg`.

## Gatekeeper / Первый запуск

Если приложение не подписано или не прошло нотариацию, Gatekeeper может блокировать запуск. В этом случае:

1. Правый клик (Control‑клик) по `Shifr.app` в Finder → "Открыть".
2. В диалоге подтвердите "Открыть" — это позволит запустить приложение один раз и разрешит его в дальнейшем.

## Быстрый старт (по вкладкам)

- Шифр Цезаря:
  - Вставьте или введите текст, задайте сдвиг (например, 3) и нажмите "Зашифровать"/"Расшифровать".

- Шифр Виженера:
  - Введите текст и ключ (буквы). Нажмите "Зашифровать"/"Расшифровать".

- Дешифратор:
  - Переключайте автоматический/ручной режим. В автоматическом режиме приложение предложит варианты расшифровок (Цезарь — все сдвиги; Виженер — статистический подбор). В ручном режиме введите ключ.

- Подбор длины:
  - Вставьте шифротекст в поле Дешифратора и нажмите "Сканировать длины ключа". Приложение выдаст список кандидатов (k, средний ИС, кандидат ключа и кандид. plaintext). По выбору кандидата можно применить ключ в Дешифратор.

- Частотный анализ:
  - Вставьте текст в поле Дешифратора и нажмите "Анализировать" в вкладке Частотный анализ — появится столбчатая диаграмма частот символов.

Заметки:
- Небуквенные символы обычно пропускаются без изменений в операциях шифрования/дешифрования.
- Для статистического анализа текст предварительно очищается (оставляются только буквы определённого алфавита).

## Локализация

Интерфейс доступен на русском и английском. Язык определяется системными настройками macOS.

## Конфиденциальность и безопасность

- Приложение работает локально и не отправляет данные в сеть.
- Телеметрии нет.

## Устранение неполадок

- Приложение не открывается: смотрите раздел Gatekeeper.
- Подбор длины доступен только для русского текста в текущей реализации.
- Автоматический брутфорс Виженера для английского ограничен; для больших поисков используйте внешние инструменты или отредактируйте `Vizhiner.swift`.

## Удаление

- Закройте приложение.
- Удалите `Shifr.app` из папки `/Applications`.
- При желании удалите сопутствующие настройки в `~/Library/Preferences` или `~/Library/Containers`.

